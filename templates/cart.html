{% extends 'base.html' %}
{% block content %}
<div class="container mt-5">
    <h2>我的购物车</h2>
    {% if cart_items %}
    <table class="table table-striped">
        <thead>
            <tr>
                <th>商品</th>
                <th>单价</th>
                <th>数量</th>
                <th>小计</th>
            </tr>
        </thead>
        <tbody>
            {% for item in cart_items %}
            <tr>
                <td>
                    <img src="{{ url_for('static', filename='images/' + item.product.image) }}" 
                         width="50" class="rounded">
                    {{ item.product.name }}
                </td>
                <td>¥{{ "%.2f"|format(item.product.price) }}</td>
                <td>{{ item.quantity }}</td>
                <td>¥{{ "%.2f"|format(item.product.price * item.quantity) }}</td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td colspan="3" class="text-end"><strong>总计：</strong></td>
                <td><strong>¥{{ "%.2f"|format(total_price) }}</strong></td>
            </tr>
        </tfoot>
    </table>
    {% else %}
    <div class="alert alert-info">
        购物车是空的，快去添加商品吧！
    </div>
    {% endif %}
    <a href="{{ url_for('index') }}" class="btn btn-primary">继续购物</a>
</div>
{% endblock %}